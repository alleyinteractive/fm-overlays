{"version":3,"sources":["webpack:///webpack/bootstrap d4858399a7365e0e6828","webpack:///./client/js/global.js","webpack:///external \"jQuery\"","webpack:///./client/css/global.scss"],"names":[],"mappings":"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","file":"js/fm-overlays-global.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/wp-content/plugins/fm-overlays/static/\";\n \t// webpack-livereload-plugin\n \t(function() {\n \t  if (typeof window === \"undefined\") { return };\n \t  var id = \"webpack-livereload-plugin-script\";\n \t  if (document.getElementById(id)) { return; }\n \t  var el = document.createElement(\"script\");\n \t  el.id = id;\n \t  el.async = true;\n \t  el.src = \"http://localhost:35729/livereload.js\";\n \t  document.head.appendChild(el);\n \t}());\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d4858399a7365e0e6828\n **/","require('../css/global.scss');\nconst $ = require('jQuery');\n\n/**\n* fm-overlays-global.js\n*\n* @created 1/15/16 5:33 PM\n* @author Alley Interactive\n* @package fm-overlays\n* @description Front-end JS for fm-overlays.\n*\n*/\n\n/**\n * Very simple overlay event handler.\n *\n * @returns {fmOverlay}\n */\nfunction fmOverlay() {\n  const $overlay = $('#fm-overlay');\n  const $overlayWrapper = $overlay.children('.fm-overlay-wrapper');\n  const timer = 500; // matches css transition duration\n  const activeClass = 'visible';\n  const $closeButton = $overlayWrapper.children('button.fm-overlay-close');\n\n  /**\n   * Hide overlay after fading out\n   */\n  function hideOverlay() {\n    $overlay.removeClass(activeClass);\n\n    setTimeout(() => $overlay.hide(), timer);\n  }\n\n  const $window = $(window);\n  const image = new Image();\n  const $overlayImage = $overlay.find('img', '.fm-image');\n\n  image.src = $overlay.find('.fm-image').children().first().attr('srcset');\n\n  let wrapperWidth = $window.innerWidth() * 0.75;\n  let wrapperHeight = $window.innerHeight() * 0.75;\n  const imgWidth = image.naturalWidth;\n  const imgHeight = image.naturalHeight;\n\n  let imgRatio = imgWidth / imgHeight;\n  let wrapperRatio = wrapperWidth / wrapperHeight;\n\n  console.log('image natural width & height', imgWidth, imgHeight);\n  console.log('wrapper width & height', wrapperWidth, wrapperHeight);\n  console.log('imgRatio: ', imgRatio, wrapperRatio);\n\n  function resizeOverlayImage() {\n    wrapperWidth = $window.innerWidth() * 0.75;\n    wrapperHeight = $window.innerHeight() * 0.75;\n    imgRatio = $overlayImage.width() / $overlayImage.height();\n    wrapperRatio = wrapperWidth / wrapperHeight;\n\n    if (wrapperRatio >= imgRatio) {\n      $overlayImage.css({\n        width: 'auto',\n        'max-height': wrapperHeight,\n      });\n\n      if ($overlayImage.width() < $overlayWrapper.width()) {\n        $overlayWrapper.css('width', 'auto');\n      }\n    } else {\n      $overlayWrapper.css('width', '75%');\n\n      $overlayImage.css({\n        width: '100%',\n        'max-height': 'auto',\n      });\n    }\n  }\n\n  resizeOverlayImage();\n\n  $(window).resize(() => resizeOverlayImage());\n\n  if ($overlay.length) {\n    /**\n     * Display the overlay\n     */\n    setTimeout(() => $overlay.show().addClass(activeClass), timer);\n\n    /**\n     * Exit strategies\n     * Escape (keyCode 27)\n     * Close Button\n     * Click Overlay\n     *\n     */\n    $(document).keyup((e) => {\n      if (27 === e.keyCode) {\n        hideOverlay();\n      }\n    });\n\n    $closeButton.click(() => hideOverlay());\n\n    // close the overlay when a click occurs outside of the overlay content\n    $overlayWrapper.click(() => hideOverlay());\n  }\n}\n\n/**\n * Initialize\n */\n$(document).ready(() => fmOverlay());\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/js/global.js\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 5\n ** module chunks = 0 1\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/css/global.scss\n ** module id = 6\n ** module chunks = 1\n **/"],"sourceRoot":""}